<html>
 <head>
  <meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
  <title>@DOC_TITLE@</title>
  <link href="doxygen.css" rel="stylesheet" type="text/css">
</head>
<body>

<table width="100%" height="10%" bgcolor="#FFFFFF">
  <tr>
    <td colspan="2"><p><A href=http://www.atmel.com ><img src="atmel.jpg"/ border=0></A></p><br /></td>
    <td colspan="2"> <strong><font face="Helvetica" color="#000000" size="+3">Xmega Application Note</font></strong></td>
    <td colspan="2"><p><A href=http://www.atmel.com/products/AVR><img src="AVR_logo_blue.gif"/ border=0></A></p><br /></td>
  </tr>
  <tr>
    <td colspan="6" height="1" background="blue.gif"></td>
  </tr>
</table>
<!-- Generated by Doxygen 1.5.8 -->
<div class="contents">
<h1>twi_slave_driver.h File Reference</h1>XMEGA TWI slave driver header file.  
<a href="#_details">More...</a>
<p>
<code>#include &quot;<a class="el" href="avr__compiler_8h-source.html">avr_compiler.h</a>&quot;</code><br>

<p>
<div class="dynheader">
Include dependency graph for twi_slave_driver.h:</div>
<div class="dynsection">
<p><center><img src="twi__slave__driver_8h__incl.png" border="0" usemap="#twi_slave_driver.h_map" alt=""></center>
<map name="twi_slave_driver.h_map">
<area shape="rect" href="avr__compiler_8h.html" title="AVR compiler." alt="" coords="76,80,185,107"></map>
</div>

<p>
<div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dynsection">
<p><center><img src="twi__slave__driver_8h__dep__incl.png" border="0" usemap="#twi_slave_driver.hdep_map" alt=""></center>
<map name="twi_slave_driver.hdep_map">
<area shape="rect" href="twi__example_8c.html" title="XMEGA TWI slave example source file." alt="" coords="5,80,112,107"><area shape="rect" href="twi__slave__driver_8c.html" title="XMEGA TWI slave driver source file." alt="" coords="136,80,264,107"></map>
</div>

<p>
<a href="twi__slave__driver_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTWI__Slave.html">TWI_Slave</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">TWI slave driver struct.  <a href="structTWI__Slave.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="twi__slave__driver_8h.html#e04807263061939fbe5605b438458fd0">TWIS_RECEIVE_BUFFER_SIZE</a>&nbsp;&nbsp;&nbsp;8</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="twi__slave__driver_8h.html#9485472cdd2d9d40bbe1a29df42310ab">TWIS_SEND_BUFFER_SIZE</a>&nbsp;&nbsp;&nbsp;8</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="twi__slave__driver_8h.html#72007cf9dc0aa3fc2c8ff81115d3a425">TWIS_STATUS_BUSY</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="twi__slave__driver_8h.html#29a0dd867f9750813df434b03a538243">TWIS_STATUS_READY</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef struct <a class="el" href="structTWI__Slave.html">TWI_Slave</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="twi__slave__driver_8h.html#bf4af194b6abde4d5fce8ded2aa33c18">TWI_Slave_t</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">TWI slave driver struct.  <a href="#bf4af194b6abde4d5fce8ded2aa33c18"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef enum <a class="el" href="twi__slave__driver_8h.html#e4209c180fb129f523c8ae18315efc12">TWIS_RESULT_enum</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="twi__slave__driver_8h.html#036675f5b6136f27e7528086051dd4e0">TWIS_RESULT_t</a></td></tr>

<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="twi__slave__driver_8h.html#e4209c180fb129f523c8ae18315efc12">TWIS_RESULT_enum</a> { <br>
&nbsp;&nbsp;<a class="el" href="twi__slave__driver_8h.html#e4209c180fb129f523c8ae18315efc124eb04579513e5936c7bcb2776956ff1f">TWIS_RESULT_UNKNOWN</a> =  (0x00&lt;&lt;0), 
<a class="el" href="twi__slave__driver_8h.html#e4209c180fb129f523c8ae18315efc12dbab0894d62d8714955f09f5ef5a6193">TWIS_RESULT_OK</a> =  (0x01&lt;&lt;0), 
<a class="el" href="twi__slave__driver_8h.html#e4209c180fb129f523c8ae18315efc1241417398cafb1e687678c96d000ca672">TWIS_RESULT_BUFFER_OVERFLOW</a> =  (0x02&lt;&lt;0), 
<a class="el" href="twi__slave__driver_8h.html#e4209c180fb129f523c8ae18315efc12dbbf8ba327cbb8f83185c7729b7ea4f2">TWIS_RESULT_TRANSMIT_COLLISION</a> =  (0x03&lt;&lt;0), 
<br>
&nbsp;&nbsp;<a class="el" href="twi__slave__driver_8h.html#e4209c180fb129f523c8ae18315efc12ce631c3c42041eecb31faad3d44ccc02">TWIS_RESULT_BUS_ERROR</a> =  (0x04&lt;&lt;0), 
<a class="el" href="twi__slave__driver_8h.html#e4209c180fb129f523c8ae18315efc12f3b4529c8dce92f5902d00a0cc6209ec">TWIS_RESULT_FAIL</a> =  (0x05&lt;&lt;0), 
<a class="el" href="twi__slave__driver_8h.html#e4209c180fb129f523c8ae18315efc12a251f169669e416bd7add217580b6736">TWIS_RESULT_ABORTED</a> =  (0x06&lt;&lt;0)
<br>
 }</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="twi__slave__driver_8h.html#da072f7590f8a8c4b158891b0dcd33ec">TWI_SlaveAddressMatchHandler</a> (<a class="el" href="structTWI__Slave.html">TWI_Slave_t</a> *twi)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="twi__slave__driver_8h.html#3aad0def0561cf7bbeb8fad7ebf4fb7f">TWI_SlaveDataHandler</a> (<a class="el" href="structTWI__Slave.html">TWI_Slave_t</a> *twi)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="twi__slave__driver_8h.html#14b9327d32373a2481e23bec041cbd7e">TWI_SlaveInitializeDriver</a> (<a class="el" href="structTWI__Slave.html">TWI_Slave_t</a> *twi, TWI_t *module, void(*processDataFunction)(void))</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initalizes TWI slave driver structure.  <a href="#14b9327d32373a2481e23bec041cbd7e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="twi__slave__driver_8h.html#7516e604cb0aacddd8d1016a54039752">TWI_SlaveInitializeModule</a> (<a class="el" href="structTWI__Slave.html">TWI_Slave_t</a> *twi, uint8_t address, TWI_SLAVE_INTLVL_t intLevel)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize the TWI module.  <a href="#7516e604cb0aacddd8d1016a54039752"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="twi__slave__driver_8h.html#e632bff68c1be8ce5682ce084ce898d0">TWI_SlaveInterruptHandler</a> (<a class="el" href="structTWI__Slave.html">TWI_Slave_t</a> *twi)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="twi__slave__driver_8h.html#d48293bf279707867535d057473f18b7">TWI_SlaveReadHandler</a> (<a class="el" href="structTWI__Slave.html">TWI_Slave_t</a> *twi)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="twi__slave__driver_8h.html#9036345d0182f2e647d9145fa710e20b">TWI_SlaveStopHandler</a> (<a class="el" href="structTWI__Slave.html">TWI_Slave_t</a> *twi)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="twi__slave__driver_8h.html#b9b7fbb48160ccaf6faf33bb9c98396f">TWI_SlaveTransactionFinished</a> (<a class="el" href="structTWI__Slave.html">TWI_Slave_t</a> *twi, uint8_t result)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="twi__slave__driver_8h.html#772668c5ff7c19f0fab6c9f88ed0a5dd">TWI_SlaveWriteHandler</a> (<a class="el" href="structTWI__Slave.html">TWI_Slave_t</a> *twi)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
XMEGA TWI slave driver header file. 
<p>
<dl class="user" compact><dt><b>Application note:</b></dt><dd>AVR1320: True 400kHz operation for TWI slave</dd></dl>
<dl class="user" compact><dt><b>Documentation</b></dt><dd>For comprehensive code documentation, supported compilers, compiler settings and supported devices see readme.html</dd></dl>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Atmel Corporation: <a href="http://www.atmel.com">http://www.atmel.com</a> <br>
 Support email: <a href="mailto:avr@atmel.com">avr@atmel.com</a></dd></dl>
Copyright (c) 2007, Atmel Corporation All rights reserved.<p>
Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:<p>
1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.<p>
2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.<p>
3. The name of ATMEL may not be used to endorse or promote products derived from this software without specific prior written permission.<p>
THIS SOFTWARE IS PROVIDED BY ATMEL ``AS IS'' AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE EXPRESSLY AND SPECIFICALLY DISCLAIMED. IN NO EVENT SHALL ATMEL BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. 
<p>Definition in file <a class="el" href="twi__slave__driver_8h-source.html">twi_slave_driver.h</a>.</p>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="e04807263061939fbe5605b438458fd0"></a><!-- doxytag: member="twi_slave_driver.h::TWIS_RECEIVE_BUFFER_SIZE" ref="e04807263061939fbe5605b438458fd0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TWIS_RECEIVE_BUFFER_SIZE&nbsp;&nbsp;&nbsp;8          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="twi__slave__driver_8h-source.html#l00066">66</a> of file <a class="el" href="twi__slave__driver_8h-source.html">twi_slave_driver.h</a>.</p>

<p>Referenced by <a class="el" href="twi__slave__driver_8c-source.html#l00214">TWI_SlaveReadHandler()</a>.</p>

</div>
</div><p>
<a class="anchor" name="9485472cdd2d9d40bbe1a29df42310ab"></a><!-- doxytag: member="twi_slave_driver.h::TWIS_SEND_BUFFER_SIZE" ref="9485472cdd2d9d40bbe1a29df42310ab" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TWIS_SEND_BUFFER_SIZE&nbsp;&nbsp;&nbsp;8          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="twi__slave__driver_8h-source.html#l00067">67</a> of file <a class="el" href="twi__slave__driver_8h-source.html">twi_slave_driver.h</a>.</p>

<p>Referenced by <a class="el" href="twi__slave__driver_8c-source.html#l00245">TWI_SlaveWriteHandler()</a>.</p>

</div>
</div><p>
<a class="anchor" name="72007cf9dc0aa3fc2c8ff81115d3a425"></a><!-- doxytag: member="twi_slave_driver.h::TWIS_STATUS_BUSY" ref="72007cf9dc0aa3fc2c8ff81115d3a425" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TWIS_STATUS_BUSY&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="twi__slave__driver_8h-source.html#l00052">52</a> of file <a class="el" href="twi__slave__driver_8h-source.html">twi_slave_driver.h</a>.</p>

<p>Referenced by <a class="el" href="twi__slave__driver_8c-source.html#l00162">TWI_SlaveAddressMatchHandler()</a>.</p>

</div>
</div><p>
<a class="anchor" name="29a0dd867f9750813df434b03a538243"></a><!-- doxytag: member="twi_slave_driver.h::TWIS_STATUS_READY" ref="29a0dd867f9750813df434b03a538243" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TWIS_STATUS_READY&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="twi__slave__driver_8h-source.html#l00051">51</a> of file <a class="el" href="twi__slave__driver_8h-source.html">twi_slave_driver.h</a>.</p>

<p>Referenced by <a class="el" href="twi__slave__driver_8c-source.html#l00116">TWI_process()</a>, <a class="el" href="twi__slave__driver_8c-source.html#l00068">TWI_SlaveInitializeDriver()</a>, and <a class="el" href="twi__slave__driver_8c-source.html#l00274">TWI_SlaveTransactionFinished()</a>.</p>

</div>
</div><p>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="bf4af194b6abde4d5fce8ded2aa33c18"></a><!-- doxytag: member="twi_slave_driver.h::TWI_Slave_t" ref="bf4af194b6abde4d5fce8ded2aa33c18" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structTWI__Slave.html">TWI_Slave</a>  <a class="el" href="structTWI__Slave.html">TWI_Slave_t</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
TWI slave driver struct. 
<p>
TWI slave struct. Holds pointer to TWI module and data processing routine, buffers and necessary varibles. 
</div>
</div><p>
<a class="anchor" name="036675f5b6136f27e7528086051dd4e0"></a><!-- doxytag: member="twi_slave_driver.h::TWIS_RESULT_t" ref="036675f5b6136f27e7528086051dd4e0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="twi__slave__driver_8h.html#e4209c180fb129f523c8ae18315efc12">TWIS_RESULT_enum</a>  <a class="el" href="twi__slave__driver_8h.html#036675f5b6136f27e7528086051dd4e0">TWIS_RESULT_t</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Enumeration Type Documentation</h2>
<a class="anchor" name="e4209c180fb129f523c8ae18315efc12"></a><!-- doxytag: member="twi_slave_driver.h::TWIS_RESULT_enum" ref="e4209c180fb129f523c8ae18315efc12" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="twi__slave__driver_8h.html#e4209c180fb129f523c8ae18315efc12">TWIS_RESULT_enum</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="e4209c180fb129f523c8ae18315efc124eb04579513e5936c7bcb2776956ff1f"></a><!-- doxytag: member="TWIS_RESULT_UNKNOWN" ref="e4209c180fb129f523c8ae18315efc124eb04579513e5936c7bcb2776956ff1f" args="" -->TWIS_RESULT_UNKNOWN</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="e4209c180fb129f523c8ae18315efc12dbab0894d62d8714955f09f5ef5a6193"></a><!-- doxytag: member="TWIS_RESULT_OK" ref="e4209c180fb129f523c8ae18315efc12dbab0894d62d8714955f09f5ef5a6193" args="" -->TWIS_RESULT_OK</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="e4209c180fb129f523c8ae18315efc1241417398cafb1e687678c96d000ca672"></a><!-- doxytag: member="TWIS_RESULT_BUFFER_OVERFLOW" ref="e4209c180fb129f523c8ae18315efc1241417398cafb1e687678c96d000ca672" args="" -->TWIS_RESULT_BUFFER_OVERFLOW</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="e4209c180fb129f523c8ae18315efc12dbbf8ba327cbb8f83185c7729b7ea4f2"></a><!-- doxytag: member="TWIS_RESULT_TRANSMIT_COLLISION" ref="e4209c180fb129f523c8ae18315efc12dbbf8ba327cbb8f83185c7729b7ea4f2" args="" -->TWIS_RESULT_TRANSMIT_COLLISION</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="e4209c180fb129f523c8ae18315efc12ce631c3c42041eecb31faad3d44ccc02"></a><!-- doxytag: member="TWIS_RESULT_BUS_ERROR" ref="e4209c180fb129f523c8ae18315efc12ce631c3c42041eecb31faad3d44ccc02" args="" -->TWIS_RESULT_BUS_ERROR</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="e4209c180fb129f523c8ae18315efc12f3b4529c8dce92f5902d00a0cc6209ec"></a><!-- doxytag: member="TWIS_RESULT_FAIL" ref="e4209c180fb129f523c8ae18315efc12f3b4529c8dce92f5902d00a0cc6209ec" args="" -->TWIS_RESULT_FAIL</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="e4209c180fb129f523c8ae18315efc12a251f169669e416bd7add217580b6736"></a><!-- doxytag: member="TWIS_RESULT_ABORTED" ref="e4209c180fb129f523c8ae18315efc12a251f169669e416bd7add217580b6736" args="" -->TWIS_RESULT_ABORTED</em>&nbsp;</td><td>
</td></tr>
</table>
</dl>

<p>Definition at line <a class="el" href="twi__slave__driver_8h-source.html#l00055">55</a> of file <a class="el" href="twi__slave__driver_8h-source.html">twi_slave_driver.h</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00055"></a>00055                               {
<a name="l00056"></a>00056         <a class="code" href="twi__slave__driver_8h.html#e4209c180fb129f523c8ae18315efc124eb04579513e5936c7bcb2776956ff1f">TWIS_RESULT_UNKNOWN</a>            = (0x00&lt;&lt;0),
<a name="l00057"></a>00057         <a class="code" href="twi__slave__driver_8h.html#e4209c180fb129f523c8ae18315efc12dbab0894d62d8714955f09f5ef5a6193">TWIS_RESULT_OK</a>                 = (0x01&lt;&lt;0),
<a name="l00058"></a>00058         <a class="code" href="twi__slave__driver_8h.html#e4209c180fb129f523c8ae18315efc1241417398cafb1e687678c96d000ca672">TWIS_RESULT_BUFFER_OVERFLOW</a>    = (0x02&lt;&lt;0),
<a name="l00059"></a>00059         <a class="code" href="twi__slave__driver_8h.html#e4209c180fb129f523c8ae18315efc12dbbf8ba327cbb8f83185c7729b7ea4f2">TWIS_RESULT_TRANSMIT_COLLISION</a> = (0x03&lt;&lt;0),
<a name="l00060"></a>00060         <a class="code" href="twi__slave__driver_8h.html#e4209c180fb129f523c8ae18315efc12ce631c3c42041eecb31faad3d44ccc02">TWIS_RESULT_BUS_ERROR</a>          = (0x04&lt;&lt;0),
<a name="l00061"></a>00061         <a class="code" href="twi__slave__driver_8h.html#e4209c180fb129f523c8ae18315efc12f3b4529c8dce92f5902d00a0cc6209ec">TWIS_RESULT_FAIL</a>               = (0x05&lt;&lt;0),
<a name="l00062"></a>00062         <a class="code" href="twi__slave__driver_8h.html#e4209c180fb129f523c8ae18315efc12a251f169669e416bd7add217580b6736">TWIS_RESULT_ABORTED</a>            = (0x06&lt;&lt;0),
<a name="l00063"></a>00063 } <a class="code" href="twi__slave__driver_8h.html#036675f5b6136f27e7528086051dd4e0">TWIS_RESULT_t</a>;
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="da072f7590f8a8c4b158891b0dcd33ec"></a><!-- doxytag: member="twi_slave_driver.h::TWI_SlaveAddressMatchHandler" ref="da072f7590f8a8c4b158891b0dcd33ec" args="(TWI_Slave_t *twi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void TWI_SlaveAddressMatchHandler           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTWI__Slave.html">TWI_Slave_t</a> *&nbsp;</td>
          <td class="paramname"> <em>twi</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="3aad0def0561cf7bbeb8fad7ebf4fb7f"></a><!-- doxytag: member="twi_slave_driver.h::TWI_SlaveDataHandler" ref="3aad0def0561cf7bbeb8fad7ebf4fb7f" args="(TWI_Slave_t *twi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void TWI_SlaveDataHandler           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTWI__Slave.html">TWI_Slave_t</a> *&nbsp;</td>
          <td class="paramname"> <em>twi</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="14b9327d32373a2481e23bec041cbd7e"></a><!-- doxytag: member="twi_slave_driver.h::TWI_SlaveInitializeDriver" ref="14b9327d32373a2481e23bec041cbd7e" args="(TWI_Slave_t *twi, TWI_t *module, void(*processDataFunction)(void))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TWI_SlaveInitializeDriver           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTWI__Slave.html">TWI_Slave_t</a> *&nbsp;</td>
          <td class="paramname"> <em>twi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TWI_t *&nbsp;</td>
          <td class="paramname"> <em>module</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void)&nbsp;</td>
          <td class="paramname"> <em>processDataFunction</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initalizes TWI slave driver structure. 
<p>
Initialize the instance of the TWI Slave and set the appropriate values.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>twi</em>&nbsp;</td><td>The TWI_Slave_t struct instance. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>module</em>&nbsp;</td><td>Pointer to the TWI module. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>processDataFunction</em>&nbsp;</td><td>Pointer to the function that handles incoming data. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="twi__slave__driver_8c-source.html#l00068">68</a> of file <a class="el" href="twi__slave__driver_8c-source.html">twi_slave_driver.c</a>.</p>

<p>References <a class="el" href="twi__slave__driver_8h-source.html#l00085">TWI_Slave::abort</a>, <a class="el" href="twi__slave__driver_8h-source.html#l00081">TWI_Slave::bytesReceived</a>, <a class="el" href="twi__slave__driver_8h-source.html#l00082">TWI_Slave::bytesSent</a>, <a class="el" href="clksys__driver_8c-source.html#l00174">CLKSYS_Disable()</a>, <a class="el" href="clksys__driver_8h-source.html#l00081">CLKSYS_Enable</a>, <a class="el" href="clksys__driver_8h-source.html#l00094">CLKSYS_IsReady</a>, <a class="el" href="clksys__driver_8c-source.html#l00212">CLKSYS_Main_ClockSource_Select()</a>, <a class="el" href="twi__slave__driver_8h-source.html#l00077">TWI_Slave::interface</a>, <a class="el" href="structTWI__Slave.html#3b1cd58ff7d3c1ab6112265b652e4356">TWI_Slave::Process_Data</a>, <a class="el" href="twi__slave__driver_8h-source.html#l00084">TWI_Slave::result</a>, <a class="el" href="twi__slave__driver_8h-source.html#l00083">TWI_Slave::status</a>, <a class="el" href="twi__slave__driver_8h-source.html#l00056">TWIS_RESULT_UNKNOWN</a>, and <a class="el" href="twi__slave__driver_8h-source.html#l00051">TWIS_STATUS_READY</a>.</p>

<p>Referenced by <a class="el" href="twi__example_8c-source.html#l00095">main()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00071"></a>00071 {
<a name="l00072"></a>00072    twi-&gt;<a class="code" href="structTWI__Slave.html#77840b2d29e959498be84cc3bec0cd22">interface</a> = module;
<a name="l00073"></a>00073    twi-&gt;<a class="code" href="structTWI__Slave.html#3b1cd58ff7d3c1ab6112265b652e4356">Process_Data</a> = processDataFunction;
<a name="l00074"></a>00074    twi-&gt;<a class="code" href="structTWI__Slave.html#35d1088ea403c9811886cc3a454d20ff">bytesReceived</a> = 0;
<a name="l00075"></a>00075    twi-&gt;<a class="code" href="structTWI__Slave.html#e44adb76a49e3ecca8542d10a1d453f8">bytesSent</a> = 0;
<a name="l00076"></a>00076    twi-&gt;<a class="code" href="structTWI__Slave.html#f5c33c2e305df38d283d66cdd92d8024">status</a> = <a class="code" href="twi__slave__driver_8h.html#29a0dd867f9750813df434b03a538243">TWIS_STATUS_READY</a>;
<a name="l00077"></a>00077    twi-&gt;<a class="code" href="structTWI__Slave.html#38f52b1274d890275ae25f68d289c8d8">result</a> = <a class="code" href="twi__slave__driver_8h.html#e4209c180fb129f523c8ae18315efc124eb04579513e5936c7bcb2776956ff1f">TWIS_RESULT_UNKNOWN</a>;
<a name="l00078"></a>00078    twi-&gt;<a class="code" href="structTWI__Slave.html#9f82420e39d70716410a66dcd3c22c1b">abort</a> = <span class="keyword">false</span>;
<a name="l00079"></a>00079           
<a name="l00080"></a>00080    <a class="code" href="clksys__driver_8h.html#0894c64562c3b1c309bab97a83382267" title="This macro enables the selected oscillator.">CLKSYS_Enable</a>( OSC_RC32MEN_bm );
<a name="l00081"></a>00081    <span class="keywordflow">do</span> {} <span class="keywordflow">while</span> ( <a class="code" href="clksys__driver_8h.html#2cd92dbb89e4051b9385a61273d19dc6" title="This macro check if selected oscillator is ready.">CLKSYS_IsReady</a>( OSC_RC32MRDY_bm ) == 0 );
<a name="l00082"></a>00082         
<a name="l00083"></a>00083    <span class="comment">/* 32MHz Internal RC*/</span>
<a name="l00084"></a>00084    <a class="code" href="clksys__driver_8c.html#1e46c4a8f01a83d4e4747d32d113e7e2" title="This function selects the main system clock source.">CLKSYS_Main_ClockSource_Select</a>( CLK_SCLKSEL_RC32M_gc );
<a name="l00085"></a>00085         
<a name="l00086"></a>00086    <a class="code" href="clksys__driver_8c.html#31b1ca1994b6a687974a119d1ad8008c" title="This function disables the selected oscillator.">CLKSYS_Disable</a>( OSC_RC2MEN_bm | OSC_RC32KEN_bm );    
<a name="l00087"></a>00087 }
</pre></div>
<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="twi__slave__driver_8h_14b9327d32373a2481e23bec041cbd7e_cgraph.png" border="0" usemap="#twi__slave__driver_8h_14b9327d32373a2481e23bec041cbd7e_cgraph_map" alt=""></center>
<map name="twi__slave__driver_8h_14b9327d32373a2481e23bec041cbd7e_cgraph_map">
<area shape="rect" href="clksys__driver_8c.html#31b1ca1994b6a687974a119d1ad8008c" title="This function disables the selected oscillator." alt="" coords="284,5,409,32"><area shape="rect" href="clksys__driver_8c.html#1e46c4a8f01a83d4e4747d32d113e7e2" title="This function selects the main system clock source." alt="" coords="228,56,465,83"><area shape="rect" href="clksys__driver_8c.html#ad4e162434c2cc7e0087bbc0ddfe266c" title="CCP write helper function written in assembly." alt="" coords="516,56,596,83"></map>
</div>

</div>
</div><p>
<a class="anchor" name="7516e604cb0aacddd8d1016a54039752"></a><!-- doxytag: member="twi_slave_driver.h::TWI_SlaveInitializeModule" ref="7516e604cb0aacddd8d1016a54039752" args="(TWI_Slave_t *twi, uint8_t address, TWI_SLAVE_INTLVL_t intLevel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TWI_SlaveInitializeModule           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTWI__Slave.html">TWI_Slave_t</a> *&nbsp;</td>
          <td class="paramname"> <em>twi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TWI_SLAVE_INTLVL_t&nbsp;</td>
          <td class="paramname"> <em>intLevel</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize the TWI module. 
<p>
Enables interrupts on address recognition and data available. Remember to enable interrupts globally from the main application.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>twi</em>&nbsp;</td><td>The TWI_Slave_t struct instance. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>address</em>&nbsp;</td><td>Slave address for this module. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>intLevel</em>&nbsp;</td><td>Interrupt level for the TWI slave interrupt handler. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="twi__slave__driver_8c-source.html#l00099">99</a> of file <a class="el" href="twi__slave__driver_8c-source.html">twi_slave_driver.c</a>.</p>

<p>References <a class="el" href="twi__slave__driver_8h-source.html#l00077">TWI_Slave::interface</a>.</p>

<p>Referenced by <a class="el" href="twi__example_8c-source.html#l00095">main()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00102"></a>00102 {
<a name="l00103"></a>00103    twi-&gt;<a class="code" href="structTWI__Slave.html#77840b2d29e959498be84cc3bec0cd22">interface</a>-&gt;SLAVE.CTRLA = intLevel |
<a name="l00104"></a>00104                                  TWI_SLAVE_DIEN_bm |
<a name="l00105"></a>00105                                  TWI_SLAVE_APIEN_bm |
<a name="l00106"></a>00106                                  TWI_SLAVE_ENABLE_bm;
<a name="l00107"></a>00107    twi-&gt;<a class="code" href="structTWI__Slave.html#77840b2d29e959498be84cc3bec0cd22">interface</a>-&gt;SLAVE.ADDR = (address&lt;&lt;1);
<a name="l00108"></a>00108 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="e632bff68c1be8ce5682ce084ce898d0"></a><!-- doxytag: member="twi_slave_driver.h::TWI_SlaveInterruptHandler" ref="e632bff68c1be8ce5682ce084ce898d0" args="(TWI_Slave_t *twi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void TWI_SlaveInterruptHandler           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTWI__Slave.html">TWI_Slave_t</a> *&nbsp;</td>
          <td class="paramname"> <em>twi</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="d48293bf279707867535d057473f18b7"></a><!-- doxytag: member="twi_slave_driver.h::TWI_SlaveReadHandler" ref="d48293bf279707867535d057473f18b7" args="(TWI_Slave_t *twi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void TWI_SlaveReadHandler           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTWI__Slave.html">TWI_Slave_t</a> *&nbsp;</td>
          <td class="paramname"> <em>twi</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="9036345d0182f2e647d9145fa710e20b"></a><!-- doxytag: member="twi_slave_driver.h::TWI_SlaveStopHandler" ref="9036345d0182f2e647d9145fa710e20b" args="(TWI_Slave_t *twi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void TWI_SlaveStopHandler           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTWI__Slave.html">TWI_Slave_t</a> *&nbsp;</td>
          <td class="paramname"> <em>twi</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="b9b7fbb48160ccaf6faf33bb9c98396f"></a><!-- doxytag: member="twi_slave_driver.h::TWI_SlaveTransactionFinished" ref="b9b7fbb48160ccaf6faf33bb9c98396f" args="(TWI_Slave_t *twi, uint8_t result)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void TWI_SlaveTransactionFinished           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTWI__Slave.html">TWI_Slave_t</a> *&nbsp;</td>
          <td class="paramname"> <em>twi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>result</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="772668c5ff7c19f0fab6c9f88ed0a5dd"></a><!-- doxytag: member="twi_slave_driver.h::TWI_SlaveWriteHandler" ref="772668c5ff7c19f0fab6c9f88ed0a5dd" args="(TWI_Slave_t *twi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void TWI_SlaveWriteHandler           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTWI__Slave.html">TWI_Slave_t</a> *&nbsp;</td>
          <td class="paramname"> <em>twi</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
</div>
<html>
 <head>
  <meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
  <title>@DOC_TITLE@</title>
  <link href="doxygen.css" rel="stylesheet" type="text/css">
</head>
<body>

<table width="100%" height="10%" bgcolor="#FFFFFF">
  <tr>
    <td colspan="6" height="1" background="blue.gif"></td>
  </tr>

  <tr>
    <td colspan="6">
    <address style="align: right;"><small>
Generated on Tue Jan 19 18:42:01 2010 for AVR1320: True 400kHz operation for TWI slave by <a href="http://www.doxygen.org/index.html"><img src="doxygen.png" alt="doxygen" align="middle" border=0></a> 1.5.8</small></address>
    </td>
  </tr>

</table>
