<html>
 <head>
  <meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
  <title>@DOC_TITLE@</title>
  <link href="doxygen.css" rel="stylesheet" type="text/css">
</head>
<body>

<table width="100%" height="10%" bgcolor="#FFFFFF">
  <tr>
    <td colspan="2"><p><A href=http://www.atmel.com ><img src="atmel.jpg"/ border=0></A></p><br /></td>
    <td colspan="2"> <strong><font face="Helvetica" color="#000000" size="+3">Xmega Application Note</font></strong></td>
    <td colspan="2"><p><A href=http://www.atmel.com/products/AVR><img src="AVR_logo_blue.gif"/ border=0></A></p><br /></td>
  </tr>
  <tr>
    <td colspan="6" height="1" background="blue.gif"></td>
  </tr>
</table>
<!-- Generated by Doxygen 1.6.3 -->
<div class="contents">
<h1>Global interrupt management</h1>
<p><div class="dynheader">
Collaboration diagram for Global interrupt management:</div>
<div class="dynsection">
</div>
</p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Modules</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__interrupt__deprecated__group.html">Deprecated interrupt definitions</a></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__interrupt__group.html#gae1545a2473614564550b9c4015c94978">cpu_irq_is_enabled</a>()&nbsp;&nbsp;&nbsp;cpu_irq_is_enabled_flags(SREG)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__interrupt__group.html#gae1545a2473614564550b9c4015c94978">cpu_irq_is_enabled</a>()&nbsp;&nbsp;&nbsp;cpu_irq_is_enabled_flags(sysreg_read(AVR32_SR))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__interrupt__group.html#ga931b667f6490ad3d8905fa25bebb24b1">irq_initialize_vectors</a>()&nbsp;&nbsp;&nbsp;PMIC.CTRL = PMIC_LOLVLEN_bm | PMIC_MEDLVLEN_bm | PMIC_HILVLEN_bm;</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize interrupt vectors Enables all interrupt levels, with vectors located in the application section and fixed priority scheduling.  <a href="#ga931b667f6490ad3d8905fa25bebb24b1"></a><br/></td></tr>
<tr><td colspan="2"><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__interrupt__group.html#ga59a24f6c541d2c1b20d7c897ed7bdbca">irqflags_t</a></td></tr>
<tr><td colspan="2"><h2>Global interrupt flags</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrpb2b83d790ddc5d70c540b41136d9ca8d"></a> </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__interrupt__group.html#ga9aa1f52defc97531b6343233abeea613">irqflags_t</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Type used for holding state of interrupt flag.  <a href="#ga9aa1f52defc97531b6343233abeea613"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="compiler_8h.html#a97a80ca1602ebf2303258971a2c938e2">bool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__interrupt__group.html#ga4dffd77dae2b3b3c5bce2612db656e48">cpu_irq_is_enabled_flags</a> (<a class="el" href="group__interrupt__group.html#ga59a24f6c541d2c1b20d7c897ed7bdbca">irqflags_t</a> flags)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check if interrupts are globally enabled in supplied flags.  <a href="#ga4dffd77dae2b3b3c5bce2612db656e48"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__interrupt__group.html#ga428178bc346431936fddf52ad1ebd6fa">cpu_irq_restore</a> (<a class="el" href="group__interrupt__group.html#ga59a24f6c541d2c1b20d7c897ed7bdbca">irqflags_t</a> flags)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Restore global interrupt flags.  <a href="#ga428178bc346431936fddf52ad1ebd6fa"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__interrupt__group.html#ga59a24f6c541d2c1b20d7c897ed7bdbca">irqflags_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__interrupt__group.html#ga5992cb015c55a0f4ed563e66a8793771">cpu_irq_save</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get and clear the global interrupt flags.  <a href="#ga5992cb015c55a0f4ed563e66a8793771"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__interrupt__group.html#ga7b77391ed86e2e027f9ee1dd99a06980">cpu_irq_disable</a>()&nbsp;&nbsp;&nbsp;__disable_interrupt()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Disable interrupts globally.  <a href="#ga7b77391ed86e2e027f9ee1dd99a06980"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__interrupt__group.html#gae4922a4bd8ba4150211fbc7f2302403c">cpu_irq_enable</a>()&nbsp;&nbsp;&nbsp;__enable_interrupt()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enable interrupts globally.  <a href="#gae4922a4bd8ba4150211fbc7f2302403c"></a><br/></td></tr>
<tr><td colspan="2"><h2>Global interrupt levels</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrp2d1756b37210fe0e103df5b33ce0884d"></a> </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="compiler_8h.html#a97a80ca1602ebf2303258971a2c938e2">bool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__interrupt__group.html#ga29a1eb079767f47db67eebe8cdebb4ba">cpu_irq_level_is_enabled_flags</a> (<a class="el" href="group__interrupt__group.html#ga59a24f6c541d2c1b20d7c897ed7bdbca">irqflags_t</a> flags, uint32_t level)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check if interrupt level is enabled in supplied flags.  <a href="#ga29a1eb079767f47db67eebe8cdebb4ba"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__interrupt__group.html#gaac8bab36e8dbe3b526b7869e18f827ea">cpu_irq_level_is_enabled</a>(level)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check if interrupt level is enabled.  <a href="#gaac8bab36e8dbe3b526b7869e18f827ea"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>This is a driver for global enabling and disabling of interrupts. </p>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ga7b77391ed86e2e027f9ee1dd99a06980"></a><!-- doxytag: member="interrupt_avr8.h::cpu_irq_disable" ref="ga7b77391ed86e2e027f9ee1dd99a06980" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define cpu_irq_disable</td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;__disable_interrupt()</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Disable interrupts globally. </p>

<p>Referenced by <a class="el" href="interrupt__avr8_8h_source.html#l00091">cpu_irq_save()</a>, and <a class="el" href="xmega_2sleepmgr_8h_source.html#l00089">sleepmgr_enter_sleep()</a>.</p>

</div>
</div>
<a class="anchor" id="gae4922a4bd8ba4150211fbc7f2302403c"></a><!-- doxytag: member="interrupt_avr8.h::cpu_irq_enable" ref="gae4922a4bd8ba4150211fbc7f2302403c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define cpu_irq_enable</td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;__enable_interrupt()</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Enable interrupts globally. </p>

<p>Referenced by <a class="el" href="xmega_2sleepmgr_8h_source.html#l00089">sleepmgr_enter_sleep()</a>.</p>

</div>
</div>
<a class="anchor" id="gae1545a2473614564550b9c4015c94978"></a><!-- doxytag: member="interrupt_avr8.h::cpu_irq_is_enabled" ref="gae1545a2473614564550b9c4015c94978" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define cpu_irq_is_enabled</td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;cpu_irq_is_enabled_flags(SREG)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="interrupt__avr8_8h_source.html#l00115">115</a> of file <a class="el" href="interrupt__avr8_8h_source.html">interrupt_avr8.h</a>.</p>

</div>
</div>
<a class="anchor" id="gae1545a2473614564550b9c4015c94978"></a><!-- doxytag: member="interrupt_avr32.h::cpu_irq_is_enabled" ref="gae1545a2473614564550b9c4015c94978" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define cpu_irq_is_enabled</td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;cpu_irq_is_enabled_flags(sysreg_read(AVR32_SR))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="interrupt__avr32_8h_source.html#l00184">184</a> of file <a class="el" href="interrupt__avr32_8h_source.html">interrupt_avr32.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaac8bab36e8dbe3b526b7869e18f827ea"></a><!-- doxytag: member="interrupt_avr32.h::cpu_irq_level_is_enabled" ref="gaac8bab36e8dbe3b526b7869e18f827ea" args="(level)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define cpu_irq_level_is_enabled</td>
          <td>(</td>
          <td class="paramtype">level&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><a class="code" href="group__interrupt__group.html#ga29a1eb079767f47db67eebe8cdebb4ba" title="Check if interrupt level is enabled in supplied flags.">cpu_irq_level_is_enabled_flags</a>(sysreg_read(AVR32_SR),             \
                        <a class="code" href="tpaste_8h.html#a3774e5e321825e6ab4a27fef2a0deb14">TPASTE3</a>(AVR32_SR_I, level, M_OFFSET))
</pre></div>
<p>Check if interrupt level is enabled. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>level</em>&nbsp;</td><td>Interrupt level (0 to 3).</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>True if interrupt level <em>level</em> is enabled.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>The interrupt level must be known at compile time. </dd></dl>

<p>Definition at line <a class="el" href="interrupt__avr32_8h_source.html#l00212">212</a> of file <a class="el" href="interrupt__avr32_8h_source.html">interrupt_avr32.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga931b667f6490ad3d8905fa25bebb24b1"></a><!-- doxytag: member="interrupt_avr8.h::irq_initialize_vectors" ref="ga931b667f6490ad3d8905fa25bebb24b1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define irq_initialize_vectors</td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;PMIC.CTRL = PMIC_LOLVLEN_bm | PMIC_MEDLVLEN_bm | PMIC_HILVLEN_bm;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize interrupt vectors Enables all interrupt levels, with vectors located in the application section and fixed priority scheduling. </p>

<p>Definition at line <a class="el" href="interrupt__avr8_8h_source.html#l00078">78</a> of file <a class="el" href="interrupt__avr8_8h_source.html">interrupt_avr8.h</a>.</p>

</div>
</div>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="ga59a24f6c541d2c1b20d7c897ed7bdbca"></a><!-- doxytag: member="interrupt_avr8.h::irqflags_t" ref="ga59a24f6c541d2c1b20d7c897ed7bdbca" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint8_t <a class="el" href="group__interrupt__group.html#ga59a24f6c541d2c1b20d7c897ed7bdbca">irqflags_t</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="interrupt__avr8_8h_source.html#l00089">89</a> of file <a class="el" href="interrupt__avr8_8h_source.html">interrupt_avr8.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga9aa1f52defc97531b6343233abeea613"></a><!-- doxytag: member="interrupt_avr32.h::irqflags_t" ref="ga9aa1f52defc97531b6343233abeea613" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__interrupt__group.html#ga59a24f6c541d2c1b20d7c897ed7bdbca">irqflags_t</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Type used for holding state of interrupt flag. </p>

<p>Definition at line <a class="el" href="interrupt__avr32_8h_source.html#l00161">161</a> of file <a class="el" href="interrupt__avr32_8h_source.html">interrupt_avr32.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga4dffd77dae2b3b3c5bce2612db656e48"></a><!-- doxytag: member="interrupt_avr32.h::cpu_irq_is_enabled_flags" ref="ga4dffd77dae2b3b3c5bce2612db656e48" args="(irqflags_t flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="compiler_8h.html#a97a80ca1602ebf2303258971a2c938e2">bool</a> cpu_irq_is_enabled_flags </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__interrupt__group.html#ga59a24f6c541d2c1b20d7c897ed7bdbca">irqflags_t</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check if interrupts are globally enabled in supplied flags. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>flags</em>&nbsp;</td><td>Currents state of interrupt flags.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>True if interrupts are enabled. </dd></dl>

<p>Definition at line <a class="el" href="interrupt__avr8_8h_source.html#l00104">104</a> of file <a class="el" href="interrupt__avr8_8h_source.html">interrupt_avr8.h</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00105"></a>00105 {
<a name="l00106"></a>00106 <span class="preprocessor">#if XMEGA</span>
<a name="l00107"></a>00107 <span class="preprocessor"></span><span class="preprocessor">#  ifdef __GNUC__</span>
<a name="l00108"></a>00108 <span class="preprocessor"></span>        <span class="keywordflow">return</span> flags &amp; CPU_I_bm;
<a name="l00109"></a>00109 <span class="preprocessor">#  else</span>
<a name="l00110"></a>00110 <span class="preprocessor"></span>        <span class="keywordflow">return</span> flags &amp; I_bm;
<a name="l00111"></a>00111 <span class="preprocessor">#  endif</span>
<a name="l00112"></a>00112 <span class="preprocessor"></span><span class="preprocessor">#endif </span><span class="comment">/* XMEGA */</span>
<a name="l00113"></a>00113 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ga29a1eb079767f47db67eebe8cdebb4ba"></a><!-- doxytag: member="interrupt_avr32.h::cpu_irq_level_is_enabled_flags" ref="ga29a1eb079767f47db67eebe8cdebb4ba" args="(irqflags_t flags, uint32_t level)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="compiler_8h.html#a97a80ca1602ebf2303258971a2c938e2">bool</a> cpu_irq_level_is_enabled_flags </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__interrupt__group.html#ga59a24f6c541d2c1b20d7c897ed7bdbca">irqflags_t</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>level</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check if interrupt level is enabled in supplied flags. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>flags</em>&nbsp;</td><td>State of interrupt flags. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>level</em>&nbsp;</td><td>Bit position for interrupt level.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>True if interrupt level is enabled. </dd></dl>

<p>Definition at line <a class="el" href="interrupt__avr32_8h_source.html#l00197">197</a> of file <a class="el" href="interrupt__avr32_8h_source.html">interrupt_avr32.h</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00199"></a>00199 {
<a name="l00200"></a>00200         <span class="keywordflow">return</span> !(flags &amp; (1 &lt;&lt; level));
<a name="l00201"></a>00201 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ga428178bc346431936fddf52ad1ebd6fa"></a><!-- doxytag: member="interrupt_avr32.h::cpu_irq_restore" ref="ga428178bc346431936fddf52ad1ebd6fa" args="(irqflags_t flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cpu_irq_restore </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__interrupt__group.html#ga59a24f6c541d2c1b20d7c897ed7bdbca">irqflags_t</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Restore global interrupt flags. </p>
<p>Use in conjunction with <a class="el" href="group__interrupt__group.html#ga5992cb015c55a0f4ed563e66a8793771">cpu_irq_save</a>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>flags</em>&nbsp;</td><td>State to set interrupt flag to. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="interrupt__avr8_8h_source.html#l00098">98</a> of file <a class="el" href="interrupt__avr8_8h_source.html">interrupt_avr8.h</a>.</p>

<p>References <a class="el" href="compiler_8h_source.html#l00076">barrier</a>.</p>

<p>Referenced by <a class="el" href="adc_8c_source.html#l00296">adc_disable()</a>, <a class="el" href="adc_8c_source.html#l00279">adc_enable()</a>, <a class="el" href="adc_8h_source.html#l00376">adc_flush()</a>, <a class="el" href="adc_8h_source.html#l00426">adc_get_signed_compare_value()</a>, <a class="el" href="adc_8h_source.html#l00446">adc_get_unsigned_compare_value()</a>, <a class="el" href="adc_8c_source.html#l00405">adc_read_configuration()</a>, <a class="el" href="adc_8h_source.html#l00307">adc_start_conversion()</a>, <a class="el" href="adc_8c_source.html#l00349">adc_write_configuration()</a>, <a class="el" href="adc_8h_source.html#l00879">adcch_get_signed_result()</a>, <a class="el" href="adc_8h_source.html#l00905">adcch_get_unsigned_result()</a>, <a class="el" href="adc_8c_source.html#l00490">adcch_read_configuration()</a>, <a class="el" href="adc_8c_source.html#l00439">adcch_write_configuration()</a>, <a class="el" href="xmega_2osc_8h_source.html#l00237">osc_disable()</a>, <a class="el" href="xmega_2osc_8h_source.html#l00282">osc_enable_autocalibration()</a>, <a class="el" href="xmega_2osc_8h_source.html#l00189">osc_enable_internal()</a>, <a class="el" href="xmega_2pll_8h_source.html#l00183">pll_disable()</a>, <a class="el" href="xmega_2pll_8h_source.html#l00167">pll_enable()</a>, <a class="el" href="rtc_8c_source.html#l00107">rtc_get_time()</a>, <a class="el" href="sleepmgr_8h_source.html#l00124">sleepmgr_lock_mode()</a>, <a class="el" href="sleepmgr_8h_source.html#l00149">sleepmgr_unlock_mode()</a>, <a class="el" href="xmega_2sysclk_8c_source.html#l00166">sysclk_disable_module()</a>, <a class="el" href="xmega_2sysclk_8c_source.html#l00157">sysclk_enable_module()</a>, and <a class="el" href="validation_2zephyr__tripoli_2sysclk_8h_source.html#l00380">sysclk_set_source()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00099"></a>00099 {
<a name="l00100"></a>00100         <a class="code" href="compiler_8h.html#a53290ac2df2384738b8769c76622f803" title="Memory barrier.">barrier</a>();
<a name="l00101"></a>00101         SREG = flags;
<a name="l00102"></a>00102 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ga5992cb015c55a0f4ed563e66a8793771"></a><!-- doxytag: member="interrupt_avr32.h::cpu_irq_save" ref="ga5992cb015c55a0f4ed563e66a8793771" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__interrupt__group.html#ga59a24f6c541d2c1b20d7c897ed7bdbca">irqflags_t</a> cpu_irq_save </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get and clear the global interrupt flags. </p>
<p>Use in conjunction with <a class="el" href="group__interrupt__group.html#ga428178bc346431936fddf52ad1ebd6fa">cpu_irq_restore</a>.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Current state of interrupt flags.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>This function leaves interrupts disabled. </dd></dl>

<p>Definition at line <a class="el" href="interrupt__avr8_8h_source.html#l00091">91</a> of file <a class="el" href="interrupt__avr8_8h_source.html">interrupt_avr8.h</a>.</p>

<p>References <a class="el" href="group__interrupt__group.html#ga7b77391ed86e2e027f9ee1dd99a06980">cpu_irq_disable</a>.</p>

<p>Referenced by <a class="el" href="adc_8c_source.html#l00296">adc_disable()</a>, <a class="el" href="adc_8c_source.html#l00279">adc_enable()</a>, <a class="el" href="adc_8h_source.html#l00376">adc_flush()</a>, <a class="el" href="adc_8h_source.html#l00426">adc_get_signed_compare_value()</a>, <a class="el" href="adc_8h_source.html#l00446">adc_get_unsigned_compare_value()</a>, <a class="el" href="adc_8c_source.html#l00405">adc_read_configuration()</a>, <a class="el" href="adc_8h_source.html#l00307">adc_start_conversion()</a>, <a class="el" href="adc_8c_source.html#l00349">adc_write_configuration()</a>, <a class="el" href="adc_8h_source.html#l00879">adcch_get_signed_result()</a>, <a class="el" href="adc_8h_source.html#l00905">adcch_get_unsigned_result()</a>, <a class="el" href="adc_8c_source.html#l00490">adcch_read_configuration()</a>, <a class="el" href="adc_8c_source.html#l00439">adcch_write_configuration()</a>, <a class="el" href="xmega_2osc_8h_source.html#l00237">osc_disable()</a>, <a class="el" href="xmega_2osc_8h_source.html#l00282">osc_enable_autocalibration()</a>, <a class="el" href="xmega_2osc_8h_source.html#l00189">osc_enable_internal()</a>, <a class="el" href="xmega_2pll_8h_source.html#l00183">pll_disable()</a>, <a class="el" href="xmega_2pll_8h_source.html#l00167">pll_enable()</a>, <a class="el" href="rtc_8c_source.html#l00107">rtc_get_time()</a>, <a class="el" href="sleepmgr_8h_source.html#l00124">sleepmgr_lock_mode()</a>, <a class="el" href="sleepmgr_8h_source.html#l00149">sleepmgr_unlock_mode()</a>, <a class="el" href="xmega_2sysclk_8c_source.html#l00166">sysclk_disable_module()</a>, <a class="el" href="xmega_2sysclk_8c_source.html#l00157">sysclk_enable_module()</a>, and <a class="el" href="validation_2zephyr__tripoli_2sysclk_8h_source.html#l00380">sysclk_set_source()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00092"></a>00092 {
<a name="l00093"></a>00093         <a class="code" href="group__interrupt__group.html#ga9aa1f52defc97531b6343233abeea613" title="Type used for holding state of interrupt flag.">irqflags_t</a> val = SREG;
<a name="l00094"></a>00094         <a class="code" href="group__interrupt__group.html#ga7b77391ed86e2e027f9ee1dd99a06980" title="Disable interrupts globally.">cpu_irq_disable</a>();
<a name="l00095"></a>00095         <span class="keywordflow">return</span> val;
<a name="l00096"></a>00096 }
</pre></div></p>

</div>
</div>
</div>
<html>
 <head>
  <meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
  <title>@DOC_TITLE@</title>
  <link href="doxygen.css" rel="stylesheet" type="text/css">
</head>
<body>

<table width="100%" height="10%" bgcolor="#FFFFFF">
  <tr>
    <td colspan="6" height="1" background="blue.gif"></td>
  </tr>

  <tr>
    <td colspan="6">
    <address style="align: right;"><small>
Generated on Fri Oct 22 12:15:26 2010 for AVR1300 Using the Xmega ADC by <a href="http://www.doxygen.org/index.html"><img src="doxygen.png" alt="doxygen" align="middle" border=0></a> 1.6.3</small></address>
    </td>
  </tr>

</table>
